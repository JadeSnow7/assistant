# AI Assistant ç°ä»£åŒ–UIç³»ç»Ÿ

æœ¬æ–‡æ¡£æè¿°äº†AI Assistanté¡¹ç›®çš„ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢ç³»ç»Ÿï¼ŒåŒ…å«CLIæ¨¡å¼å’ŒGUIæ¨¡å¼ä¸¤ç§äº¤äº’å½¢å¼ã€‚

## ğŸ¯ æ¦‚è¿°

AI Assistantç°ä»£åŒ–UIç³»ç»Ÿæä¾›äº†ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š

1. **CLIæ¨¡å¼** - åŸºäºRich/Textualçš„ç°ä»£åŒ–ç»ˆç«¯ç•Œé¢ï¼Œæ”¯æŒæµå¼å“åº”å’Œä¸°å¯Œçš„å¯è§†åŒ–æ•ˆæœ
2. **Web GUIæ¨¡å¼** - åŸºäºReact + Viteçš„ç°ä»£åŒ–Webç•Œé¢ï¼Œæä¾›ç›´è§‚çš„å›¾å½¢åŒ–æ“ä½œä½“éªŒ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    subgraph "ç”¨æˆ·ç•Œé¢å±‚"
        A[Web GUI] --> C[APIå®¢æˆ·ç«¯]
        B[CLIç•Œé¢] --> C
    end
    
    subgraph "åç«¯æœåŠ¡å±‚"
        C --> D[FastAPIæœåŠ¡]
        D --> E[Agentè°ƒåº¦å™¨]
        E --> F[æ¨¡å‹å¼•æ“]
        E --> G[æ’ä»¶ç³»ç»Ÿ]
        E --> H[è®°å¿†ç®¡ç†]
    end
    
    subgraph "æ•°æ®å­˜å‚¨å±‚"
        F --> I[æœ¬åœ°æ¨¡å‹]
        G --> J[æ’ä»¶åº“]
        H --> K[SQLiteæ•°æ®åº“]
    end
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.9+
- Node.js 16+
- npm/yarn

### å®‰è£…ä¾èµ–

1. **Pythonä¾èµ–**
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

2. **Web GUIä¾èµ–**
```bash
cd ui/web/ai-assistant-gui
npm install
```

### å¯åŠ¨æœåŠ¡

1. **å¯åŠ¨åç«¯æœåŠ¡**
```bash
python src/main.py
```

2. **å¯åŠ¨Web GUI**
```bash
cd ui/web/ai-assistant-gui
npm run dev
```

3. **ä½¿ç”¨CLIç•Œé¢**
```bash
python modern_cli.py
```

## ğŸ’» CLIæ¨¡å¼ä½¿ç”¨æŒ‡å—

### åŸºæœ¬å‘½ä»¤

- `/help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- `/exit` - é€€å‡ºç¨‹åº
- `/status` - æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
- `/plugins` - æŸ¥çœ‹æ’ä»¶åˆ—è¡¨
- `/chat <æ¶ˆæ¯>` - å‘é€èŠå¤©æ¶ˆæ¯
- `/stream <æ¶ˆæ¯>` - æµå¼èŠå¤©
- `/bash <å‘½ä»¤>` - æ‰§è¡ŒBashå‘½ä»¤

### åŠŸèƒ½ç‰¹æ€§

#### ğŸ¨ ç°ä»£åŒ–ç•Œé¢
- åŸºäºRichåº“çš„ä¸°å¯Œç»ˆç«¯ç•Œé¢
- æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜
- å®æ—¶è¿›åº¦æŒ‡ç¤ºå™¨
- å½©è‰²è¾“å‡ºå’Œæ ¼å¼åŒ–æ˜¾ç¤º

#### ğŸ’¬ æ™ºèƒ½å¯¹è¯
- æ”¯æŒæµå¼å“åº”æ˜¾ç¤º
- å®æ—¶Tokenè®¡æ•°å’Œæ€§èƒ½ç»Ÿè®¡
- è‡ªåŠ¨ä¼šè¯ç®¡ç†
- ä¸Šä¸‹æ–‡ä¿æŒ

#### âš¡ æµå¼å“åº”
- å®æ—¶æ˜¾ç¤ºAIç”Ÿæˆå†…å®¹
- åŠ¨æ€è¿›åº¦æ¡å’Œç»Ÿè®¡ä¿¡æ¯
- æ‰“å­—æœºæ•ˆæœ
- æ€§èƒ½ç›‘æ§

### ä½¿ç”¨ç¤ºä¾‹

```bash
# å¯åŠ¨CLI
python modern_cli.py

# åŸºæœ¬å¯¹è¯
> ä½ å¥½ï¼Œä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ

# æµå¼å¯¹è¯
/stream å†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—

# ç³»ç»ŸçŠ¶æ€
/status

# æ‰§è¡Œç³»ç»Ÿå‘½ä»¤
/bash ls -la
```

## ğŸŒ Web GUIä½¿ç”¨æŒ‡å—

### ç•Œé¢å¸ƒå±€

Web GUIé‡‡ç”¨ç±»ä¼¼LM Studioçš„ç°ä»£åŒ–å¸ƒå±€è®¾è®¡ï¼š

- **ä¾§è¾¹æ ** - å¯¼èˆªèœå•å’Œå¿«é€Ÿæ“ä½œ
- **ä¸»å†…å®¹åŒº** - åŠŸèƒ½é¡µé¢æ˜¾ç¤º
- **å¯¹è¯ç•Œé¢** - å®æ—¶èŠå¤©äº¤äº’
- **ç³»ç»Ÿç›‘æ§** - æ€§èƒ½å’ŒçŠ¶æ€ç›‘æ§
- **æ’ä»¶ç®¡ç†** - æ’ä»¶å®‰è£…å’Œé…ç½®

### ä¸»è¦åŠŸèƒ½

#### ğŸ“Š ä»ªè¡¨æ¿
- ç³»ç»ŸçŠ¶æ€æ¦‚è§ˆ
- æ€§èƒ½æŒ‡æ ‡ç›‘æ§
- å¿«é€Ÿæ“ä½œå…¥å£
- ç»„ä»¶å¥åº·çŠ¶æ€

#### ğŸ’¬ å¯¹è¯ç•Œé¢
- ç°ä»£åŒ–èŠå¤©UI
- æµå¼å“åº”æ”¯æŒ
- æ¶ˆæ¯å†å²è®°å½•
- å¤šä¼šè¯ç®¡ç†

#### ğŸ”Œ æ’ä»¶ç®¡ç†
- æ’ä»¶åˆ—è¡¨å±•ç¤º
- ä¸€é”®å¯ç”¨/ç¦ç”¨
- æ’ä»¶è¯¦æƒ…æŸ¥çœ‹
- èƒ½åŠ›åˆ†ç±»æ˜¾ç¤º

#### ğŸ“ˆ ç³»ç»Ÿç›‘æ§
- å®æ—¶æ€§èƒ½å›¾è¡¨
- èµ„æºä½¿ç”¨ç»Ÿè®¡
- ç»„ä»¶çŠ¶æ€ç›‘æ§
- å†å²è¶‹åŠ¿åˆ†æ

### è®¿é—®åœ°å€

- Webç•Œé¢: http://localhost:5173
- APIæ–‡æ¡£: http://localhost:8000/docs
- å¥åº·æ£€æŸ¥: http://localhost:8000/health

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç›®å½•ç»“æ„

```
nex/
â”œâ”€â”€ ui/                          # UIç³»ç»Ÿæ ¹ç›®å½•
â”‚   â”œâ”€â”€ cli/                     # CLIç•Œé¢
â”‚   â”‚   â”œâ”€â”€ modern_cli.py       # ä¸»æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ command_router.py   # å‘½ä»¤è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ display_engine.py   # æ˜¾ç¤ºå¼•æ“
â”‚   â”‚   â”œâ”€â”€ session_manager.py  # ä¼šè¯ç®¡ç†
â”‚   â”‚   â””â”€â”€ streaming_display.py # æµå¼æ˜¾ç¤º
â”‚   â”œâ”€â”€ web/                     # Web GUI
â”‚   â”‚   â””â”€â”€ ai-assistant-gui/   # Reactåº”ç”¨
â”‚   â”‚       â”œâ”€â”€ src/
â”‚   â”‚       â”‚   â”œâ”€â”€ components/ # UIç»„ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ pages/      # é¡µé¢ç»„ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ stores/     # çŠ¶æ€ç®¡ç†
â”‚   â”‚       â”‚   â””â”€â”€ services/   # APIæœåŠ¡
â”‚   â”‚       â””â”€â”€ package.json
â”‚   â””â”€â”€ shared/                  # å…±äº«æ¨¡å—
â”‚       â””â”€â”€ ai_client.py        # APIå®¢æˆ·ç«¯
â”œâ”€â”€ src/                      # åç«¯æœåŠ¡
â””â”€â”€ modern_cli.py               # CLIå…¥å£
```

### æ‰©å±•å¼€å‘

#### æ·»åŠ æ–°CLIå‘½ä»¤

1. åœ¨`command_router.py`ä¸­åˆ›å»ºæ–°çš„å‘½ä»¤ç±»ï¼š
```python
class NewCommand(CommandBase):
    def __init__(self):
        super().__init__("new", "æ–°å‘½ä»¤æè¿°")
    
    async def execute(self, args: List[str], cli_controller) -> CommandResult:
        # å‘½ä»¤å®ç°
        return CommandResult(True, content="æ‰§è¡Œç»“æœ")
```

2. æ³¨å†Œå‘½ä»¤åˆ°è·¯ç”±å™¨

#### æ·»åŠ æ–°Webé¡µé¢

1. åœ¨`src/pages/`åˆ›å»ºæ–°é¡µé¢ç»„ä»¶
2. åœ¨`App.tsx`ä¸­æ·»åŠ è·¯ç”±
3. åœ¨`Sidebar.tsx`ä¸­æ·»åŠ å¯¼èˆªèœå•

### APIé›†æˆ

æ‰€æœ‰UIç»„ä»¶éƒ½é€šè¿‡ç»Ÿä¸€çš„APIå®¢æˆ·ç«¯ä¸åç«¯é€šä¿¡ï¼š

```typescript
// å‘é€èŠå¤©æ¶ˆæ¯
const response = await apiClient.sendMessage({
  message: "Hello",
  session_id: "session-123"
});

// è·å–ç³»ç»ŸçŠ¶æ€
const status = await apiClient.getSystemStatus();

// ç®¡ç†æ’ä»¶
await apiClient.enablePlugin("weather");
```

## ğŸ¨ è®¾è®¡è§„èŒƒ

### ä¸»é¢˜ç³»ç»Ÿ

- **æ·±è‰²æ¨¡å¼** - é»˜è®¤ä¸»é¢˜ï¼Œé€‚åˆå¼€å‘ç¯å¢ƒ
- **æµ…è‰²æ¨¡å¼** - å¯é€‰ä¸»é¢˜ï¼Œé€‚åˆåŠå…¬ç¯å¢ƒ
- **è‡ªé€‚åº”** - æ ¹æ®ç³»ç»Ÿè®¾ç½®è‡ªåŠ¨åˆ‡æ¢

### é¢œè‰²è§„èŒƒ

- ä¸»è‰²è°ƒ: `#1890ff` (è“è‰²)
- æˆåŠŸè‰²: `#52c41a` (ç»¿è‰²)
- è­¦å‘Šè‰²: `#faad14` (æ©™è‰²)
- é”™è¯¯è‰²: `#ff4d4f` (çº¢è‰²)

### ç»„ä»¶è§„èŒƒ

- ä½¿ç”¨Ant Designç»„ä»¶åº“
- å“åº”å¼å¸ƒå±€è®¾è®¡
- ç»Ÿä¸€çš„å›¾æ ‡ä½¿ç”¨
- ä¸€è‡´çš„é—´è·å’Œå­—ä½“

## ğŸ”§ é…ç½®é€‰é¡¹

### CLIé…ç½®

```python
# ~/.ai_assistant_cli.json
{
  "theme": "dark",
  "show_timestamps": true,
  "stream_by_default": true,
  "max_width": 120
}
```

### Web GUIé…ç½®

é€šè¿‡ç•Œé¢è®¾ç½®æˆ–localStorageé…ç½®ï¼š
- APIåŸºç¡€URL
- ä¸»é¢˜åå¥½
- ä¾§è¾¹æ çŠ¶æ€
- é€šçŸ¥è®¾ç½®

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **CLIå¯åŠ¨å¤±è´¥**
   - æ£€æŸ¥Pythonè™šæ‹Ÿç¯å¢ƒæ˜¯å¦æ¿€æ´»
   - ç¡®è®¤Rich/Textualä¾èµ–å·²å®‰è£…

2. **Web GUIæ— æ³•è®¿é—®**
   - æ£€æŸ¥Node.jsç‰ˆæœ¬æ˜¯å¦æ”¯æŒ
   - ç¡®è®¤ç«¯å£5173æœªè¢«å ç”¨

3. **åç«¯è¿æ¥å¤±è´¥**
   - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
   - ç¡®è®¤ç«¯å£8000å¯è®¿é—®

### è°ƒè¯•æ¨¡å¼

```bash
# CLIè°ƒè¯•æ¨¡å¼
python modern_cli.py --debug

# Web GUIå¼€å‘æ¨¡å¼
npm run dev
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2024-01-XX)
- âœ¨ å…¨æ–°ç°ä»£åŒ–CLIç•Œé¢
- âœ¨ React + Vite Web GUI
- âœ¨ æµå¼å“åº”æ”¯æŒ
- âœ¨ å®æ—¶ç³»ç»Ÿç›‘æ§
- âœ¨ æ’ä»¶ç®¡ç†ç•Œé¢
- ğŸ”§ ç»Ÿä¸€APIå®¢æˆ·ç«¯
- ğŸ¨ ç°ä»£åŒ–UIè®¾è®¡

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ï¼Œè¯¦è§LICENSEæ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ·Pull Request

---

**AI Assistantç°ä»£åŒ–UIç³»ç»Ÿ** - è®©AIäº¤äº’æ›´åŠ ç›´è§‚å’Œé«˜æ•ˆï¼